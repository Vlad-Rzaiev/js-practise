{"version":3,"file":"timer.js","sources":["../src/js/timer.js"],"sourcesContent":["const timerForm = document.querySelector('.timer-form');\nconst timer = document.querySelector('.timer');\nconst message = document.querySelector('.message');\nconst resetBtn = document.querySelector('.reset-btn');\nconst progressTimer = document.querySelector('.timer-progress');\n\nlet countDown;\nlet timeInput;\nlet submitBtn;\nconst alarm = new Audio('../sounds/alarm-clock.mp3');\n\nconst onClickSubmitBtn = e => {\n  e.preventDefault();\n\n  progressTimer.style.animation = `reduce-width ${100}% linear forwards`;\n\n  timeInput = e.target.elements.userTime;\n  submitBtn = timerForm.querySelector('.timer-btn');\n  let userInputTime = +e.target.elements.userTime.value;\n\n  message.style.display = 'none';\n\n  if (userInputTime <= 0) {\n    message.style.display = 'block';\n    message.textContent = 'Please enter the correct number of seconds!';\n\n    return;\n  }\n\n  clearInterval(countDown);\n\n  countDown = setInterval(() => {\n    const minutes = Math.floor(userInputTime / 60);\n    const seconds = userInputTime % 60;\n\n    timer.textContent = `${String(minutes).padStart(2, '0')}:${String(\n      seconds\n    ).padStart(2, '0')}`;\n\n    if (userInputTime <= 0) {\n      clearInterval(countDown);\n      timer.textContent = 'Time is up!';\n      alarm.play();\n      timeInput.disabled = false;\n      submitBtn.disabled = false;\n    }\n\n    progressTimer.style.animation = `reduce-width ${\n      seconds * 2\n    }s linear forwards`;\n    userInputTime--;\n  }, 1000);\n\n  timeInput.disabled = true;\n  submitBtn.disabled = true;\n\n  timerForm.reset();\n};\n\nconst onClickResetBtn = () => {\n  clearInterval(countDown);\n  timeInput.disabled = false;\n  submitBtn.disabled = false;\n  timer.textContent = '00:00';\n  alarm.pause();\n  alarm.currentTime = 0;\n};\n\ntimerForm.addEventListener('submit', onClickSubmitBtn);\nresetBtn.addEventListener('click', onClickResetBtn);\n"],"names":["timerForm","timer","message","resetBtn","progressTimer","countDown","timeInput","submitBtn","alarm","onClickSubmitBtn","e","userInputTime","minutes","seconds","onClickResetBtn"],"mappings":"oDAAA,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAgB,SAAS,cAAc,iBAAiB,EAE9D,IAAIC,EACAC,EACAC,EACJ,MAAMC,EAAQ,IAAI,MAAM,2BAA2B,EAE7CC,EAAmBC,GAAK,CAC5BA,EAAE,eAAc,EAEhBN,EAAc,MAAM,UAAY,oCAEhCE,EAAYI,EAAE,OAAO,SAAS,SAC9BH,EAAYP,EAAU,cAAc,YAAY,EAChD,IAAIW,EAAgB,CAACD,EAAE,OAAO,SAAS,SAAS,MAIhD,GAFAR,EAAQ,MAAM,QAAU,OAEpBS,GAAiB,EAAG,CACtBT,EAAQ,MAAM,QAAU,QACxBA,EAAQ,YAAc,8CAEtB,MACD,CAED,cAAcG,CAAS,EAEvBA,EAAY,YAAY,IAAM,CAC5B,MAAMO,EAAU,KAAK,MAAMD,EAAgB,EAAE,EACvCE,EAAUF,EAAgB,GAEhCV,EAAM,YAAc,GAAG,OAAOW,CAAO,EAAE,SAAS,EAAG,GAAG,CAAC,IAAI,OACzDC,CACD,EAAC,SAAS,EAAG,GAAG,CAAC,GAEdF,GAAiB,IACnB,cAAcN,CAAS,EACvBJ,EAAM,YAAc,cACpBO,EAAM,KAAI,EACVF,EAAU,SAAW,GACrBC,EAAU,SAAW,IAGvBH,EAAc,MAAM,UAAY,gBAC9BS,EAAU,CACX,oBACDF,GACD,EAAE,GAAI,EAEPL,EAAU,SAAW,GACrBC,EAAU,SAAW,GAErBP,EAAU,MAAK,CACjB,EAEMc,EAAkB,IAAM,CAC5B,cAAcT,CAAS,EACvBC,EAAU,SAAW,GACrBC,EAAU,SAAW,GACrBN,EAAM,YAAc,QACpBO,EAAM,MAAK,EACXA,EAAM,YAAc,CACtB,EAEAR,EAAU,iBAAiB,SAAUS,CAAgB,EACrDN,EAAS,iBAAiB,QAASW,CAAe"}