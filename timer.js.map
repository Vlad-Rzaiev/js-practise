{"version":3,"file":"timer.js","sources":["../src/js/timer.js"],"sourcesContent":["const timerForm = document.querySelector('.timer-form');\nconst timer = document.querySelector('.timer');\nconst message = document.querySelector('.message');\nconst resetBtn = document.querySelector('.reset-btn');\nconst muteBtn = document.querySelector('.mute-btn');\nconst progressTimer = document.querySelector('.timer-progress');\n\nlet countDown;\nlet daysInput;\nlet hoursInput;\nlet minutesInput;\nlet secondsInput;\nlet submitBtn;\nconst alarm = new Audio('src/sounds/clock-ticking.mp3');\n\nconst calculateTotalSeconds = (days, hours, minutes, seconds) => {\n  return days * 86400 + hours * 3600 + minutes * 60 + seconds;\n};\n\nconst showTime = totalSeconds => {\n  const days = String(Math.floor(totalSeconds / 86400)).padStart(2, '0');\n  const hours = String(Math.floor((totalSeconds % 86400) / 3600)).padStart(\n    2,\n    '0'\n  );\n  const minutes = String(Math.floor((totalSeconds % 3600) / 60)).padStart(\n    2,\n    '0'\n  );\n  const seconds = String(Math.floor(totalSeconds % 60)).padStart(2, '0');\n\n  return `${days}:${hours}:${minutes}:${seconds}`;\n};\n\nconst onClickSubmitBtn = e => {\n  e.preventDefault();\n\n  muteBtn.disabled = true;\n\n  daysInput = e.target.elements.days;\n  hoursInput = e.target.elements.hours;\n  minutesInput = e.target.elements.minutes;\n  secondsInput = e.target.elements.seconds;\n  submitBtn = timerForm.querySelector('.timer-btn');\n\n  let userInputSeconds = +e.target.elements.seconds.value;\n  let userInputMinutes = +e.target.elements.minutes.value;\n  let userInputHours = +e.target.elements.hours.value;\n  let userInputDays = +e.target.elements.days.value;\n\n  let totalSeconds = calculateTotalSeconds(\n    userInputDays,\n    userInputHours,\n    userInputMinutes,\n    userInputSeconds\n  );\n\n  if (totalSeconds <= 0) {\n    message.style.display = 'block';\n    message.textContent = 'Please enter a valid time!';\n    return;\n  }\n\n  clearInterval(countDown);\n  progressTimer.style.animation = 'none';\n\n  progressTimer.style.animation = `reduce-width ${\n    totalSeconds + 1\n  }s linear forwards`;\n\n  countDown = setInterval(() => {\n    timer.textContent = showTime(totalSeconds);\n\n    if (totalSeconds <= 0) {\n      clearInterval(countDown);\n      timer.textContent = 'Time is up!';\n      muteBtn.disabled = false;\n      alarm.load();\n      alarm.play();\n      daysInput.disabled = false;\n      hoursInput.disabled = false;\n      minutesInput.disabled = false;\n      secondsInput.disabled = false;\n      submitBtn.disabled = false;\n    }\n\n    totalSeconds--;\n  }, 1000);\n\n  daysInput.disabled = true;\n  hoursInput.disabled = true;\n  minutesInput.disabled = true;\n  secondsInput.disabled = true;\n  submitBtn.disabled = true;\n\n  timerForm.reset();\n};\n\nconst onClickResetBtn = () => {\n  clearInterval(countDown);\n  daysInput.disabled = false;\n  hoursInput.disabled = false;\n  minutesInput.disabled = false;\n  secondsInput.disabled = false;\n  submitBtn.disabled = false;\n  timer.textContent = '00:00:00:00';\n  progressTimer.style.animation = 'none';\n};\n\nconst onClickMuteBtn = () => {\n  alarm.pause();\n  alarm.currentTime = 0;\n  muteBtn.disabled = true;\n};\n\ntimerForm.addEventListener('submit', onClickSubmitBtn);\nresetBtn.addEventListener('click', onClickResetBtn);\nmuteBtn.addEventListener('click', onClickMuteBtn);\n"],"names":["timerForm","timer","message","resetBtn","muteBtn","progressTimer","countDown","daysInput","hoursInput","minutesInput","secondsInput","submitBtn","alarm","calculateTotalSeconds","days","hours","minutes","seconds","showTime","totalSeconds","onClickSubmitBtn","userInputSeconds","userInputMinutes","userInputHours","userInputDays","onClickResetBtn","onClickMuteBtn"],"mappings":"oDAAA,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAgB,SAAS,cAAc,iBAAiB,EAE9D,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACJ,MAAMC,EAAQ,IAAI,MAAM,8BAA8B,EAEhDC,EAAwB,CAACC,EAAMC,EAAOC,EAASC,IAC5CH,EAAO,MAAQC,EAAQ,KAAOC,EAAU,GAAKC,EAGhDC,EAAWC,GAAgB,CAC/B,MAAML,EAAO,OAAO,KAAK,MAAMK,EAAe,KAAK,CAAC,EAAE,SAAS,EAAG,GAAG,EAC/DJ,EAAQ,OAAO,KAAK,MAAOI,EAAe,MAAS,IAAI,CAAC,EAAE,SAC9D,EACA,GACJ,EACQH,EAAU,OAAO,KAAK,MAAOG,EAAe,KAAQ,EAAE,CAAC,EAAE,SAC7D,EACA,GACJ,EACQF,EAAU,OAAO,KAAK,MAAME,EAAe,EAAE,CAAC,EAAE,SAAS,EAAG,GAAG,EAErE,MAAO,GAAGL,CAAI,IAAIC,CAAK,IAAIC,CAAO,IAAIC,CAAO,EAC/C,EAEMG,EAAmB,GAAK,CAC5B,EAAE,eAAc,EAEhBhB,EAAQ,SAAW,GAEnBG,EAAY,EAAE,OAAO,SAAS,KAC9BC,EAAa,EAAE,OAAO,SAAS,MAC/BC,EAAe,EAAE,OAAO,SAAS,QACjCC,EAAe,EAAE,OAAO,SAAS,QACjCC,EAAYX,EAAU,cAAc,YAAY,EAEhD,IAAIqB,EAAmB,CAAC,EAAE,OAAO,SAAS,QAAQ,MAC9CC,EAAmB,CAAC,EAAE,OAAO,SAAS,QAAQ,MAC9CC,EAAiB,CAAC,EAAE,OAAO,SAAS,MAAM,MAC1CC,EAAgB,CAAC,EAAE,OAAO,SAAS,KAAK,MAExCL,EAAeN,EACjBW,EACAD,EACAD,EACAD,CACJ,EAEE,GAAIF,GAAgB,EAAG,CACrBjB,EAAQ,MAAM,QAAU,QACxBA,EAAQ,YAAc,6BACtB,MACD,CAED,cAAcI,CAAS,EACvBD,EAAc,MAAM,UAAY,OAEhCA,EAAc,MAAM,UAAY,gBAC9Bc,EAAe,CAChB,oBAEDb,EAAY,YAAY,IAAM,CAC5BL,EAAM,YAAciB,EAASC,CAAY,EAErCA,GAAgB,IAClB,cAAcb,CAAS,EACvBL,EAAM,YAAc,cACpBG,EAAQ,SAAW,GACnBQ,EAAM,KAAI,EACVA,EAAM,KAAI,EACVL,EAAU,SAAW,GACrBC,EAAW,SAAW,GACtBC,EAAa,SAAW,GACxBC,EAAa,SAAW,GACxBC,EAAU,SAAW,IAGvBQ,GACD,EAAE,GAAI,EAEPZ,EAAU,SAAW,GACrBC,EAAW,SAAW,GACtBC,EAAa,SAAW,GACxBC,EAAa,SAAW,GACxBC,EAAU,SAAW,GAErBX,EAAU,MAAK,CACjB,EAEMyB,EAAkB,IAAM,CAC5B,cAAcnB,CAAS,EACvBC,EAAU,SAAW,GACrBC,EAAW,SAAW,GACtBC,EAAa,SAAW,GACxBC,EAAa,SAAW,GACxBC,EAAU,SAAW,GACrBV,EAAM,YAAc,cACpBI,EAAc,MAAM,UAAY,MAClC,EAEMqB,EAAiB,IAAM,CAC3Bd,EAAM,MAAK,EACXA,EAAM,YAAc,EACpBR,EAAQ,SAAW,EACrB,EAEAJ,EAAU,iBAAiB,SAAUoB,CAAgB,EACrDjB,EAAS,iBAAiB,QAASsB,CAAe,EAClDrB,EAAQ,iBAAiB,QAASsB,CAAc"}