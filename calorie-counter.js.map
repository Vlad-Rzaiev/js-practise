{"version":3,"file":"calorie-counter.js","sources":["../src/js/calorie-counter.js"],"sourcesContent":["const calorieCounter = document.getElementById('calorie-counter');\nconst budgetNumberInput = document.getElementById('budget');\nconst entryDropdown = document.getElementById('entry-dropdown');\nconst addEntryButton = document.getElementById('add-entry');\nconst clearButton = document.getElementById('clear');\nconst output = document.getElementById('output');\nlet isError = false;\n\nfunction cleanInputString(str) {\n  const regex = /[+\\-\\s]/g;\n  return str.replace(regex, '');\n}\n\nfunction isInvalidInput(str) {\n  const regex = /\\d+e\\d+/i;\n  return str.match(regex);\n}\n\nfunction addEntry() {\n  const targetInputContainer = document.querySelector(\n    `#${entryDropdown.value} .input-container`\n  );\n  const entryNumber =\n    targetInputContainer.querySelectorAll('input[type=\"text\"]').length + 1;\n  const HTMLString = `\n  <label for=\"${entryDropdown.value}-${entryNumber}-name\">Entry ${entryNumber} Name</label>\n  <input type=\"text\" placeholder=\"Name\" id=\"${entryDropdown.value}-${entryNumber}-name\" />\n  <label for=\"${entryDropdown.value}-${entryNumber}-calories\">Entry ${entryNumber} Calories</label>\n  <input type=\"number\" min=\"0\" placeholder=\"Calories\" id=\"${entryDropdown.value}-${entryNumber}-calories\" />\n  `;\n  targetInputContainer.insertAdjacentHTML('beforeend', HTMLString);\n}\n\nfunction calculateCalories(e) {\n  e.preventDefault();\n  isError = false;\n\n  const breakfastNumberInputs = document.querySelectorAll(\n    `#breakfast input[type='number']`\n  );\n  const lunchNumberInputs = document.querySelectorAll(\n    `#lunch input[type='number']`\n  );\n  const dinnerNumberInputs = document.querySelectorAll(\n    `#dinner input[type='number']`\n  );\n  const snacksNumberInputs = document.querySelectorAll(\n    `#snacks input[type='number']`\n  );\n  const exerciseNumberInputs = document.querySelectorAll(\n    `#exercise input[type='number']`\n  );\n\n  const breakfastCalories = getCaloriesFromInputs(breakfastNumberInputs);\n  const lunchCalories = getCaloriesFromInputs(lunchNumberInputs);\n  const dinnerCalories = getCaloriesFromInputs(dinnerNumberInputs);\n  const snacksCalories = getCaloriesFromInputs(snacksNumberInputs);\n  const exerciseCalories = getCaloriesFromInputs(exerciseNumberInputs);\n\n  const budgetCalories = getCaloriesFromInputs([budgetNumberInput]);\n\n  if (isError) {\n    return;\n  }\n\n  const consumedCalories =\n    breakfastCalories + lunchCalories + dinnerCalories + snacksCalories;\n  const remainingCalories =\n    budgetCalories - consumedCalories + exerciseCalories;\n  const surplusOrDeficit = remainingCalories < 0 ? 'Surplus' : 'Deficit';\n\n  output.innerHTML = `\n    <span class=\"${surplusOrDeficit.toLowerCase()}\">${Math.abs(\n    remainingCalories\n  )} Calorie ${surplusOrDeficit}</span>\n  <hr>\n  <p>${budgetCalories} Calories Budgeted</p>\n  <p>${consumedCalories} Calories Consumed</p>\n  <p>${exerciseCalories} Calories Burned</p>\n  `;\n\n  output.classList.remove('hide');\n}\n\nfunction getCaloriesFromInputs(list) {\n  let calories = 0;\n  for (const item of list) {\n    const currVal = cleanInputString(item.value);\n    const invalidInputMatch = isInvalidInput(currVal);\n    if (invalidInputMatch) {\n      alert(`Invalid Input: ${invalidInputMatch[0]}`);\n      isError = true;\n      return null;\n    }\n    calories += Number(currVal);\n  }\n  return calories;\n}\n\nfunction clearForm() {\n  const inputContainers = Array.from(\n    document.querySelectorAll('.input-container')\n  );\n\n  for (const container of inputContainers) {\n    container.innerHTML = '';\n  }\n\n  budgetNumberInput.value = '';\n  output.innerText = '';\n  output.classList.add('hide');\n}\n\naddEntryButton.addEventListener('click', addEntry);\n\ncalorieCounter.addEventListener('submit', calculateCalories);\n\nclearButton.addEventListener('click', clearForm);\n"],"names":["calorieCounter","budgetNumberInput","entryDropdown","addEntryButton","clearButton","output","isError","cleanInputString","str","regex","isInvalidInput","addEntry","targetInputContainer","entryNumber","HTMLString","calculateCalories","e","breakfastNumberInputs","lunchNumberInputs","dinnerNumberInputs","snacksNumberInputs","exerciseNumberInputs","breakfastCalories","getCaloriesFromInputs","lunchCalories","dinnerCalories","snacksCalories","exerciseCalories","budgetCalories","consumedCalories","remainingCalories","surplusOrDeficit","list","calories","item","currVal","invalidInputMatch","clearForm","inputContainers","container"],"mappings":"oDAAA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAoB,SAAS,eAAe,QAAQ,EACpDC,EAAgB,SAAS,eAAe,gBAAgB,EACxDC,EAAiB,SAAS,eAAe,WAAW,EACpDC,EAAc,SAAS,eAAe,OAAO,EAC7CC,EAAS,SAAS,eAAe,QAAQ,EAC/C,IAAIC,EAAU,GAEd,SAASC,EAAiBC,EAAK,CAC7B,MAAMC,EAAQ,WACd,OAAOD,EAAI,QAAQC,EAAO,EAAE,CAC9B,CAEA,SAASC,EAAeF,EAAK,CAC3B,MAAMC,EAAQ,WACd,OAAOD,EAAI,MAAMC,CAAK,CACxB,CAEA,SAASE,GAAW,CAClB,MAAMC,EAAuB,SAAS,cACpC,IAAIV,EAAc,KAAK,mBAC3B,EACQW,EACJD,EAAqB,iBAAiB,oBAAoB,EAAE,OAAS,EACjEE,EAAa;AAAA,gBACLZ,EAAc,KAAK,IAAIW,CAAW,gBAAgBA,CAAW;AAAA,8CAC/BX,EAAc,KAAK,IAAIW,CAAW;AAAA,gBAChEX,EAAc,KAAK,IAAIW,CAAW,oBAAoBA,CAAW;AAAA,4DACrBX,EAAc,KAAK,IAAIW,CAAW;AAAA,IAE5FD,EAAqB,mBAAmB,YAAaE,CAAU,CACjE,CAEA,SAASC,EAAkBC,EAAG,CAC5BA,EAAE,eAAc,EAChBV,EAAU,GAEV,MAAMW,EAAwB,SAAS,iBACrC,iCACJ,EACQC,EAAoB,SAAS,iBACjC,6BACJ,EACQC,EAAqB,SAAS,iBAClC,8BACJ,EACQC,EAAqB,SAAS,iBAClC,8BACJ,EACQC,EAAuB,SAAS,iBACpC,gCACJ,EAEQC,EAAoBC,EAAsBN,CAAqB,EAC/DO,EAAgBD,EAAsBL,CAAiB,EACvDO,EAAiBF,EAAsBJ,CAAkB,EACzDO,EAAiBH,EAAsBH,CAAkB,EACzDO,EAAmBJ,EAAsBF,CAAoB,EAE7DO,EAAiBL,EAAsB,CAACtB,CAAiB,CAAC,EAEhE,GAAIK,EACF,OAGF,MAAMuB,EACJP,EAAoBE,EAAgBC,EAAiBC,EACjDI,EACJF,EAAiBC,EAAmBF,EAChCI,EAAmBD,EAAoB,EAAI,UAAY,UAE7DzB,EAAO,UAAY;AAAA,mBACF0B,EAAiB,YAAW,CAAE,KAAK,KAAK,IACvDD,CACJ,CAAG,YAAYC,CAAgB;AAAA;AAAA,OAExBH,CAAc;AAAA,OACdC,CAAgB;AAAA,OAChBF,CAAgB;AAAA,IAGrBtB,EAAO,UAAU,OAAO,MAAM,CAChC,CAEA,SAASkB,EAAsBS,EAAM,CACnC,IAAIC,EAAW,EACf,UAAWC,KAAQF,EAAM,CACvB,MAAMG,EAAU5B,EAAiB2B,EAAK,KAAK,EACrCE,EAAoB1B,EAAeyB,CAAO,EAChD,GAAIC,EACF,aAAM,kBAAkBA,EAAkB,CAAC,CAAC,EAAE,EAC9C9B,EAAU,GACH,KAET2B,GAAY,OAAOE,CAAO,CAC3B,CACD,OAAOF,CACT,CAEA,SAASI,GAAY,CACnB,MAAMC,EAAkB,MAAM,KAC5B,SAAS,iBAAiB,kBAAkB,CAChD,EAEE,UAAWC,KAAaD,EACtBC,EAAU,UAAY,GAGxBtC,EAAkB,MAAQ,GAC1BI,EAAO,UAAY,GACnBA,EAAO,UAAU,IAAI,MAAM,CAC7B,CAEAF,EAAe,iBAAiB,QAASQ,CAAQ,EAEjDX,EAAe,iBAAiB,SAAUe,CAAiB,EAE3DX,EAAY,iBAAiB,QAASiC,CAAS"}